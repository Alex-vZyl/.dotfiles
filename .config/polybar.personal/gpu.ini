[module/gpu-usage]
type = custom/script
format = <label>
label = %output:3%
exec = nvidia-smi --query-gpu=utilization.gpu --format=csv,noheader,nounits | awk '{ print ""$1"%"}'
format-prefix = "  "
format-prefix-foreground = ${colors.primary}
interval = 1

[module/gpu-memory]
type = custom/script
format = <label>
label = %output:3%
exec = nvidia-smi --query-gpu=memory.used --format=csv,noheader
format-prefix = "  "
format-prefix-foreground = ${colors.primary}
interval = 1

[module/gpu-temp]
type = custom/script
format = <label>
format-prefix=" "
label = %output:3%
exec = nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader | awk '{ print ""$1"°C "}'
format-prefix-foreground = ${colors.primary}
interval = 1
